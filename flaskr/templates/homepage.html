{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="container text-center mt-3">
    <div class="row no-gutters justify-content-center">
        <div class="col-md-4">
            <div class="container">

                {% if setup.camera_ip != '' %}
                <div class="form-group">
                    <img class="camera" src="{{ setup.camera_ip }}"/>
                </div>
                {% endif %}

                <form method="POST" action="/">
                    
                    <div class="form-group">
                        <input title="Speed" id="speedSliderId" class="speed-slider" type="range" min="0" max="100" step="10" value="{{ rover.speed }}" name="speedSlider" />
                        <script>
                            sliderEvents('speedSliderId', '/');
                        </script>
                    </div>

                    <div class="form-group">
                        <button title="Forward" class="btn btn-primary" type="button" name="buttonForward" id="buttonForwardId" value="FORWARD">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"/>
                              </svg> 
                        </button>
                        <script>
                            buttonEvents('buttonForwardId', '/', 'forward');
                        </script>
                    </div>

                    <div class="form-group">

                        <button title="Counter-clockwise" class="btn btn-primary" type="button" name="buttonCounterClockwise" id="buttonCounterClockwiseId">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-counterclockwise" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>
                                <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>
                            </svg>
                        </button>
                        <script>
                            buttonEvents('buttonCounterClockwiseId', '/', 'counter-clockwise');
                        </script>

                        <button title="Stop" class="btn btn-primary" type="button" name="buttonStop" id="buttonStopId">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-stop-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5z"/>
                              </svg>
                        </button>
                        <script>
                            buttonEvents('buttonStopId', '/', 'stop');
                        </script>

                        <button title="Clockwise" class="btn btn-primary" type="button" name="buttonClockwise" id="buttonClockwiseId">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-clockwise" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
                                <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
                              </svg>
                        </button>
                        <script>
                            buttonEvents('buttonClockwiseId', '/', 'clockwise');
                        </script>

                    </div>

                    <div class="form-group">
                        <button title="Backward" class="btn btn-primary" type="button" name="buttonBackward" id="buttonBackwardId">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-arrow-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
                              </svg> 
                        </button>
                        <script>
                            buttonEvents('buttonBackwardId', '/', 'backward');
                        </script>
                    </div>
         
                </form>

                <div id="divStatusId" class="form-group">
                    <p>Status {{ rover.status }} </p> 
                    <p>GPS {{ setup.gps_interval }}s.</p>
                    <p>Speed {{ rover.speed }}%</p>
                </div>

            </div>
        </div>
    </div>
</div>

{% endblock %}